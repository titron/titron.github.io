---
layout: post
title:  "中断之INTP、IRQ、NMI"
categories: basic
tags: interrupt, INTP, IRQ, NMI
author: David
---

* content
{:toc}

---
INTP、IRQ、NMI 是计算机系统中常见的缩写，分别代表不同的概念：

### 1. INTP（Interrupt）

全称：Interrupt（中断）

* 作用：

INTP 是计算机系统中硬件或软件发出的信号，用于通知处理器需要立即处理某个事件。中断会暂停当前任务，转而去执行中断处理程序，完成后恢复原任务。

* 类型：

硬件中断：由外部设备触发（如键盘输入、网络数据到达）。

软件中断：由程序主动发起（如系统调用）。

* 特点：

可屏蔽（可通过设置处理器标志位忽略）。

### 2. IRQ（Interrupt Request）

全称：Interrupt Request（中断请求）

* 作用：

IRQ 是设备向处理器发送的中断请求信号，用于通知处理器需要处理特定设备的操作（如磁盘I/O完成、定时器超时）。

* 关键点：

每个设备通常分配唯一的IRQ编号（如IRQ 0为系统定时器，IRQ 1为键盘）。

现代系统使用APIC（高级可编程中断控制器） 管理多核环境下的IRQ分配。

* 特点：

可屏蔽，优先级低于NMI。

### 3. NMI（Non-Maskable Interrupt）

全称：Non-Maskable Interrupt（不可屏蔽中断）

* 作用：

NMI 是优先级最高、不可被屏蔽的中断，用于处理系统级紧急事件（如硬件错误、内存校验错误、看门狗超时）。

* 典型场景：

硬件故障（如电源故障、CPU过热）。

调试用途（如触发系统诊断）。

* 特点：

不可屏蔽，立即响应，通常用于关键错误处理。

### 三者的区别

| 特性 | INTP（中断） | IRQ（中断请求） | NMI（不可屏蔽中断）|
| --- | --- | --- | --- |
| 可屏蔽性 |可屏蔽 | 可屏蔽 |不可屏蔽 |
| 触发源 | 硬件/软件 | 硬件设备 | 硬件紧急事件 |
| 优先级 | 低 | 中 | 最高 |
| 典型应用 | 通用事件处理 | 设备I/O通知 | 系统级错误处理 |

### 总结

INTP 是广义的“中断”概念。

IRQ 是设备向CPU发出的具体中断请求。

NMI 是最高优先级的不可屏蔽中断，用于处理严重系统错误。

在操作系统和硬件设计中，这三者的协同管理对系统稳定性和实时性至关重要。