---
layout: post
title:  "I2C vs I3C"
categories: basic
tags: I2C, I3C
author: David
---

* content
{:toc}

---
### 1. 基础特性对比

| 特性 | I²C | I3C |
| --- | --- | --- |
| 推出时间 | 1982年（飞利浦） |2017年（MIPI联盟标准化）|
| 兼容性 | 仅支持I²C设备 | 向下兼容I²C，同时支持I3C增强模式 |
| 最大速率 | 标准模式（100kbps）<br>高速模式（3.4Mbps）| 基础模式：12.5Mbps<br>HDR模式：最高33Mbps |
| 总线电压 | 1.8V/3.3V/5V（依赖设备）|	统一1.2V（兼容1.8V/3.3V设备）|
| 总线拓扑 | 开漏输出+上拉电阻 | 推挽输出+动态上拉（降低功耗）|
| 引脚数量 | 2线（SCL+SDA）| 2线（SCL+SDA），支持多设备中断 |

### 2. 功能差异
(1) 速度与效率

I²C：

依赖上拉电阻，速率受限（最高3.4Mbps）；

每次传输需起始位+地址+ACK，协议开销大。

I3C：

HDR（High Data Rate）模式：通过DDR（双倍数据速率）或Ternary编码实现最高33Mbps；
协议优化：支持批量传输，减少控制位开销。

(2) 功耗

I²C：

上拉电阻持续耗电，低功耗场景需手动关闭总线。

I3C：

动态地址映射（Dynamic Addressing）：避免地址冲突，减少重试功耗；

睡眠模式：总线空闲时自动进入低功耗状态。

(3) 多设备管理

I²C：

7位/10位地址，地址资源有限（最多112个设备）；

多主机需复杂仲裁机制。

I3C：

带内中断（In-Band Interrupt, IBI）：从设备可直接通过SDA线申请中断，无需额外引脚；

动态地址分配：主设备自动分配唯一地址，支持更多设备。

(4) 错误检测

I²C：

无内置错误检测机制，依赖应用层校验。

I3C：

CRC校验（HDR模式）和总线超时检测，提升可靠性。

### 3. 应用场景对比

| 场景 | I²C适用性 | I3C优势 |
| --- | --- | --- |
| 低速传感器 | 温度传感器、EEPROM等传统设备 | 兼容I²C设备，无缝升级 |
| 高速数据采集 | 不适用（速率不足）| 支持摄像头、高精度ADC等高速设备 |
| 多设备系统 | 	地址冲突风险高，扩展性差 | 动态地址分配+带内中断，支持复杂拓扑 |
| 低功耗设计 | 	静态功耗较高 | 动态功耗管理+推挽输出，适合电池供电 |
| 实时控制 | 延迟较高，响应慢 | HDR模式降低延迟，适合实时反馈系统 |

### 4. 设计复杂度
I²C：

简单易用，硬件实现成本低；

需手动管理地址冲突和总线仲裁。

I3C：

硬件复杂度略高（需支持HDR模式、CRC校验等）；

协议自动化程度高（如地址分配、中断管理），减少软件负担。

### 5. 关键总结

| 差异维度 | I²C | I3C |
| --- | --- | --- |
| 核心优势 | 简单、成熟、低成本 | 高速、低功耗、高扩展性 |
| 适用领域 | 传统低速外设（传感器、存储器）| 现代嵌入式系统（IoT、手机、汽车电子）|
| 升级必要性 | 无需升级，仍广泛使用 | 需高速、多设备、低功耗场景的首选|

### 6. 选型建议
选择I²C：

系统仅需连接少量低速设备；

成本敏感且无需未来扩展。

选择I3C：

需要高速传输（如传感器融合）；

多设备协同（如智能手表、AR/VR设备）；

低功耗需求（如电池供电的IoT设备）。

*注意*：

I3C需主控芯片和从设备均支持协议，设计时需确认硬件兼容性。对于混合系统（I²C+I3C），I3C主控可无缝控制旧版I²C从设备。